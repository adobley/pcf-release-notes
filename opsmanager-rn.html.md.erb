---
title: PCF Ops Manager v2.6 Release Notes
owner: Ops Manager
---

Pivotal Cloud Foundry is certified by the Cloud Foundry Foundation for <%= Date.today.year %>.

Read more about the [certified provider program](https://www.cloudfoundry.org/provider-faq/) and the [requirements of providers](https://www.cloudfoundry.org/provider-requirements/).

<hr>

## <a id='how-to-upgrade'></a> How to Upgrade

The [Upgrading Pivotal Cloud Foundry](http://docs.pivotal.io/pivotalcf/2-6/customizing/upgrading-pcf.html) topic contains instructions for upgrading to Pivotal Cloud Foundry (PCF) Ops Manager <%= vars.v_major_version %>.

## <a id="releases"></a> Releases

Ops Manager <%= vars.v_major_version %> includes the following minor releases:

### <a id="rc-4"></a> 2.6.0

- **[New Feature]** Operators can override the NATS max payload using the Ops Manager API. For more information, see [Updating director and Iaas properties (Experimental)](http://docs.pivotal.io/pivotalcf/2-6/opsman-api/#updating-director-and-iaas-properties-experimental) in the Ops Manager API documentation.

* **[New Feature]**: After a deployment fails, API users can use `POST /api/v0/installations` to see which products are not fully configured.

* **[New Feature]**: Tile authors can use a form and install time verifier to verify vSphere IaaS properties.
* **[New Feature]**: Tile authors can upload tiles that support multiple stemcells. Use the `additional_stemcells_criteria` key to specify an array of additional stemcells for operators to use. Choose a stemcell with the `stemcell_selector` property key included in `PUT /api/v0/staged/products/:PRODUCT-GUID/properties`.
* **[New Feature]**: Tile authors can create and deploy their own manifests using non-default stemcells. Use a `stemcells` block in the manifest to specify an alias, OS, and version for a stemcell. Additionally, you can use the following double-parens accessors to see further details about stemcells: `(( my_stemcell_selector.os ))`, `(( my_stemcell_selector.version ))`, `(( my_stemcell_selector.assigned? ))`, `(( my_stemcell_selector.value ))`, (( my_stemcell_selector.value_present? ))`.

* **[New Feature]**: `GET /api/v0/installations` now displays the start and end time for a deployment of each product. Products that are upgraded from earlier versions of Ops Manager will display `null` for their start and end times.

* **[New Feature]**: Ops Manager operators cannot set secrets that do not match the constraints defined by the must_match_regex parameter.

* **[New Feature]**: Ops Manager supports 5th generation AWS Instance Types. 5th generation Instance Types are the default when a v2.6 Ops Manager boots.
* **[New Feature]**: You can now specify a monitor port when defining a NSX load balancer. Send a PUT to `/api/v0/staged/products/:guid/properties/jobs/:job_id/resource_config` with a  `monitor_port` key. This features helps to support NSX load balancer compatibility with Gorouter, which requires a monitor port of `8080` and a traffic port of `80`.

* **[Bug Fix]**: Errands no longer fail when output is ASCII encoded but contains non-ASCII characters.
- **[Bug Fix]** Ops Manager does not allow a revert on upgrade without deploying the BOSH Director.
- **[Bug Fix]** Uploading a tile no longer crashes due to the `inspect_local_release` failing in an unexpected way.
- **[Bug Fix]** The `pre_deploy_check` is a top-level key at the `/api/v0/staged/director/pre_deploy_check` endpoint. For more information, see [Running a pre-deploy check for the staged BOSH Director](http://docs.pivotal.io/pivotalcf/2-6/opsman-api/#running-a-pre-deploy-check-for-the-staged-bosh-director) in the Ops Manager API documentation.
- **[Bug Fix]** The  Change Log page in the Ops Manager UI shows version numbers of products.
- **[Bug Fix]** Ops Manager does not fail to upload a tile with no releases.
- **[Bug Fix]** The product dependency Ops Manager verify uses the full verifier interface expected by the system.
- **[Bug Fix]** Cloud config does not show up in the sidebar or in the main column of product diffs.
- **[Bug Fix]** Dropdowns for certain VM types are easier to use.
- **[Bug Fix]** The Change Log page shows the status of `DELETED` when a product is deleted.
- **[Bug Fix]** Ops Manager saves the installation change start time.
- **[Bug Fix]** UAA session timeouts obey the access or refresh token lifetime.
* **[Bug Fix]**: You can now log in to Ops Manager when you have set up Ops Manager with LDAP over SSL.
* **[Bug Fix]**: The `pre_deploy_check` API now shows all applicable stemcells when multiple stemcells are required.
* **[Bug Fix]**: Operators can no longer assign a stemcell with the incorrect infrastructure type on the Stemcell Library page.
* **[Bug Fix]**: When you delete an unused product, all the stemcells associated with it are also deleted.
* **[Bug Fix]**: **Apply Changes** no longer fails if copying credentials to CredHub takes longer than ten minutes.
* **[Bug Fix]**: Ops Manager saves the start time for the `InstallationChange` object for runtime config-only tiles.
* **[Bug Fix]**: Exporting installation settings no longer causes the BOSH Director to incorrectly show that it has staged changes.
* **[Bug Fix]**: Harbour now installs successfully on deployments that already have PKS installed.
* **[Bug Fix]**: Operators can no longer change persistent disk size to custom values.
* **[Bug Fix]**: All product stemcells display a notification when it is out of date, even when there are multiple stemcells associated with a product.
* **[Bug Fix]**: Ops Manager operators can no longer upload a duplicate stemcell to the Stemcell Library.
* **[Bug Fix]**: Ops Manager operators on vSphere-based deployments can now use spaces in the folder names for their vCenter config information.


Ops Manager v2.6.0 uses the following component versions:

<table border="1" class="nice">
  <thead>
  <tr>
    <th>Component</th>
    <th>Version</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>Ops Manager</td><td>2.6.0-build.138*</td>
  </tr>
  <tr><td>Stemcell</td><td>315.34*</td></tr><tr><td>BBR SDK</td><td>1.15.1</td></tr><tr><td>BOSH Director</td><td>269.0.2*</td></tr><tr><td>BOSH DNS</td><td>1.11.0</td></tr><tr><td>Metrics Server</td><td>0.0.22</td></tr><tr><td>CredHub</td><td>2.4.0</td></tr><tr><td>Syslog</td><td>11.4.0</td></tr><tr><td>Windows Syslog</td><td>1.0.3</td></tr><tr><td>UAA</td><td>71.0</td></tr><tr><td>BPM</td><td>1.0.4</td></tr><tr><td>Networking</td><td>9</td></tr><tr><td>OS Conf</td><td>20.0.0</td></tr><tr><td>AWS CPI</td><td>75</td></tr><tr><td>Azure CPI</td><td>36.0.0*</td></tr><tr><td>Google CPI</td><td>29.0.1</td></tr><tr><td>OpenStack CPI</td><td>42</td></tr><tr><td>vSphere CPI</td><td>52.1.1</td></tr><tr><td>BOSH CLI</td><td>5.5.1*</td></tr><tr><td>Credhub CLI</td><td>2.4.0</td></tr><tr><td>BBR CLI</td><td>1.5.1</td></tr>

    <td colspan="2"><em>* Components marked with an asterisk have been updated.</em></td>

  </tbody>
</table>

## <a id='major-features'></a> New Features in Ops Manager <%= vars.v_major_version %>

Ops Manager <%= vars.v_major_version %> includes the following major features:

### <a id="multiple-stemcell"></a> Ops Manager Supports Multiple Stemcells for Products

<p class="note breaking"><strong>Breaking Changes</strong>: There are breaking changes for API users related to this feature. For more information, see <a href="./breaking-changes.html#opsman">PCF Ops Manager</a> in <em>PCF 2.6 Breaking Changes</em>.</p>

Ops Manager supports products that require multiple stemcells. This means it is no longer necessary to deploy separate tiles for products that require different stemcells. 

The following features and API endpoints enable support for products with multiple stemcells: 

* The **Review Pending Changes** page includes the OS and version number of all stemcells associated with each product. The **Review Pending Changes** page also displays a message that indicates when a new stemcell is added to a product.   

* The **Stemcell Library** includes a dropdown for each additional required stemcell. You can use this dropdown to add multiple stemcells to each product. The **Stemcell Library** also displays the OS and version number of the stemcells associated with each deployed and staged product. 

* You can assign one or more stemcells to a product with the multi-stemcell API, `PATCH /api/v0/stemcells_associations`. `GET /api/v0/stemcells_associations` returns information on all stemcells assigned to products in your deployment.

* The `added_products` property of the `/api/v0/diagnostic_report` endpoint returns the filename, OS, and version number of all stemcells associated with each product in your deployment. 

* For products with multiple stemcells, you can view available stemcell updates using the Pivotal Network integration sidebar or the  `pivotal_network/stemcell_updates` API endpoint.

For more information about the API endpoints that enable support for products with multiple stemcells, see the [Ops Manager API documentation](https://docs.pivotal.io/pivotalcf/2-6/opsman-api/).

For more information about using multiple stemcells as a tile developer, see [Support for Multiple Stemcells](https://docs.pivotal.io/tiledev/2-6/release-notes.html) in the _PCF v2.6 Partners Release Notes_. 

### <a id="folder-names"></a> vSphere Operators Can Use Whitespace in Folder Names

vSphere's vCenter allows you to designate folder names with multiple words separated by spaces. That ability is reflected in Ops Manager. You can specify folder names in vCenter using spaces between words and Ops Manager will accept them as valid.

For an example of folder names with spaces, see [Using the Cisco Nexus 1000v Switch with Ops Manager](http://docs.pivotal.io/pivotalcf/2-6/customizing/nexus-switch.html).

### <a id="vsphere-properties"></a> Tile Developers Can Implement a Form Verifier to Confirm vSphere Properties

An operator configuring a product tile on a vSphere deployment must configure vSphere properties. Incorrect configuration can cause deployment failures, and can be difficult to troubleshoot effectively. An optional form verifier is available that notifies tile operators when they have configured vSphere properties incorrectly.

For more information about this form verifier, see the [*install\_time\_verifiers*](https://docs.pivotal.io/tiledev/2-6/property-template-references.html#top-verifier) section in *Property and Template References* in the tile developer documentation.

### <a id="blobstore-backups"></a> Added Strategies for Backing Up BOSH Blobstore to S3

The BOSH Director tile > **Director Config** pane supports multiple strategies for backing up the BOSH Director blobstore to external S3 buckets:

* **S3 with versioning**: Back up to prior version of blobstore bucket.
* **S3 without versioning**: Back up to S3 bucket dedicated to blobstore backup.

See the _Director Config Page_ section of the _Configuring BOSH Director_ topic for your IaaS, which you can navigate to from the [IaaS-Specific Deployment Guidelines](https://docs.pivotal.io/pivotalcf/2-6/customizing/deploy-bosh-om.html#contents) section of the _Deploying BOSH and Ops Manager_ topic.

### <a id="pre-deploy-check-endpoint"></a> API Endpoint Returns Deployment Configuration Details

The `/api/v0/staged/products/:product_guid/pre_deploy_check` Ops Manager API endpoint now validates for 
missing configurations. The endpoint performs a dry run of Apply Changes verifiers and reports any failures that might 
occur when triggering Apply Changes. This endpoint allows operators to discover which configurations 
need attention without having to manually search the Ops Manager UI or wait for Apply Changes to fail.

For example, you can check whether a product has not been assigned a stemcell, network, or availability zone. 
You can also check exactly which properties are invalid and which `install_time` verifiers might fail.

For more information, see [Running a pre-deploy check for the staged BOSH Director](https://docs.pivotal.io/pivotalcf/2-6/opsman-api/#running-a-pre-deploy-check-for-the-staged-bosh-director) in the Ops Manager API documentation.

### <a id='monitor-port'></a> Operators Can Specify a Monitor Port When Defining an NSX Load Balancer

The Ops Manager API allows you to specify a monitor port when defining an NSX load balancer with the `monitor_port` parameter. This means the monitor port value does not default to the same value as the traffic port.

For more information, see [Configuring resources for a job (Experimental)](http://docs.pivotal.io/pivotalcf/2-4/opsman-api/#configuring-resources-for-a-job-experimental) in the Ops Manager API documentation.

### <a id='port-optional'></a> Operators Not Required to Specify a Port for NSX Load Balancers

The Ops Manager API no longer requires you to specify a port for NSX load balancers. When a port is not specified, the TCP router relies on a default port that is specified by other components in the system.

For more information, see [Configuring resources for a job (Experimental)](http://docs.pivotal.io/pivotalcf/2-4/opsman-api/#configuring-resources-for-a-job-experimental) in the Ops Manager API documentation.

### <a id='automatic-ca'></a> Fresh Installations of Ops Manager Create New Default Certificate Authority in CredHub

When installing Ops Manager v2.6, Ops Manager creates a new default certificate authority (CA) in the BOSH Director CredHub. This CA can generate TLS certificates.

When upgrading to Ops Manager v2.6 from Ops Manager v2.5, any CA that already exists does not get overwritten.

For more information about certificates and certificate authorities, see [Certificates and TLS in PCF](https://docs.pivotal.io/pivotalcf/2-6/security/pcf-infrastructure/certificates-index.html).

### <a id='changelog'></a> Improved Change Log Page

The Ops Manager Change Log page has an improved UI, with deployment status and build times listed individually for each product, as well as for the deployment as a whole.

For more information, see the [Change Log Page](http://docs.pivotal.io/pivotalcf/2-6/customizing/pcf-interface.html#changelog) section in the _Using the Ops Manager Interface_ topic.

### <a id='deploy-times'></a> Product Deployment Times from API and Change Log Page

Ops Manager publishes deployment times for individual products and whole deployments.

The Ops Manager API returns `started_at` and `finished_at` timestamps from its `/api/v0/installations` endpoint.

The Ops Manager UI **Change Log** page publishes these start and end timestamps, and durations calculated from them. For more information about viewing start and end timestamps on the **Change Log** page, see [Improved Change Log Page](#changelog).

### <a id='syslog-template'></a> Ops Manager Syslog Template Available for Service Broker Tiles

Tile developers can use the Ops Manager Syslog template form for their service broker tiles. The template makes tile users’ experience more consistent and secure. Tile developers can apply the Syslog template using the `opsmanager_syslog` key in their tile’s `metadata.yml` file.

For more information about the Syslog template, see [Syslog Form Template Available for Tile Authors](https://docs.pivotal.io/pivotalcf/2-4/pcf-release-notes/opsmanager-rn.html#syslog).

### <a id='aws-regions'></a> Ops Manager Adds Support for All AWS Regions

The Ops Manager **AWS Config** pane includes an open text field for AWS region. This field allows you to input any AWS region when configuring BOSH Director on AWS.

For more information about adding an AWS region in Ops Manager, see [Step 2: AWS Config Page](https://docs.pivotal.io/pivotalcf/2-6/om/aws/config-terraform.html#aws-config).

### <a id='5th-gen-instances'></a> AWS Deployments Use 5th Generation Instances

Ops Manager v2.6 uses the latest generation of instances for AWS deployments. When you upgrade to Ops Manager v2.6, your VM types convert to the corresponding 5th generation instance types, such as `t2` to `t3` and `c4` to `c5`.

If you are using a custom instance type catalog, your VM types that are used and available do not change.

These instance types are supported by Xenial stemcells and Trusty stemcell 3586 and later. Stemcells earlier than Trusty stemcell 3586 fail to boot Ops Manager.

For more information about AWS instance types, see [Amazon EC2 Instance Types](https://aws.amazon.com/ec2/instance-types/) in the AWS documentation.

### <a id='compiled-bosh-release'></a> Compiled Release Assets Included in BOSH Deployment Manifest  

Ops Manager now automatically includes the `exported_from` field in the `releases` section of the BOSH deployment manifest file. 
The `exported_from` field contains the compiled release assets for the deployment and prevents BOSH from 
updating every VM with later versions of packages during a BOSH deployment. 
This saves time and reduces unexpected VM updates. 

For example, the `exported_from` field in the following manifest file specifies that the deployment 
uses the packages from the release compiled against version `250.4` of `ubuntu-xenial`: 

```
releases:
- name: bpm
  url: https://s3.amazonaws.com/bosh-compiled-release-tarballs/bpm-0.12.3-ubuntu-xenial-250.4.tgz
  version: 0.12.3
  exported_from:
  - os: ubuntu-xenial
    version: 250.4
```       

For more information about using the `exported_from` field, see [Locking Compiled Releases](https://bosh.io/docs/locking-compiled-releases/) in the BOSH documentation. 


### <a id='adfs-auth-azure'></a> ADFS Authentication Available for Microsoft Azure

You can deploy PCF on Microsoft Azure using Active Directory Federation Services (ADFS) for secured identity federation and single sign-on (SSO). To implement ADFS for Azure, you must use a certificate to authenticate on Azure, rather than a client and secret. 

For more information about using ADFS for Azure, see [Use Service Principal with certificate](https://github.com/cloudfoundry/bosh-azure-cpi-release/tree/master/docs/advanced/use-service-principal-with-certificate) on GitHub.

## <a id='known-issues'></a> Known Issues

There are currently no known issues. 
