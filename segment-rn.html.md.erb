---
title: Pivotal Isolation Segment v2.8 Release Notes
owner: Release Engineering
---

<% current_page.data.title = "Pivotal Isolation Segment " + vars.v_major_version + " Release Notes" %>

## <a id='known-issues'></a> Known Issues

## <a id='releases'></a> Releases
 
<%# DO NOT DELETE THIS LINE - robots use this to add new release notes %>
 
### <a id='2.8.0-rc.2'></a> 2.8.0-rc.2

**Release Date:** 11/27/2019

* **[Feature]** Allow operator to set a new bind configuration "version" on volume mounts. Operators with older versions of smb software can now use volume services.
* Bump ubuntu-xenial stemcell to version `621.26`
* Bump cflinuxfs3 to version `0.149.0`
* Bump smb-volume to version `2.1.0`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>ubuntu-xenial stemcell</td><td>621.26</td></tr>
    <tr><td>bpm</td><td>1.1.5</td></tr>
    <tr><td>cf-networking</td><td>2.25.0</td></tr>
    <tr><td>cflinuxfs3</td><td>0.149.0</td></tr>
    <tr><td>diego</td><td>2.39.0</td></tr>
    <tr><td>garden-runc</td><td>1.19.8</td></tr>
    <tr><td>haproxy</td><td>9.8.0</td></tr>
    <tr><td>loggregator-agent</td><td>5.1.0</td></tr>
    <tr><td>mapfs</td><td>1.2.1</td></tr>
    <tr><td>nfs-volume</td><td>5.0.2</td></tr>
    <tr><td>routing</td><td>0.193.0</td></tr>
    <tr><td>silk</td><td>2.25.0</td></tr>
    <tr><td>smb-volume</td><td>2.1.0</td></tr>
    <tr><td>syslog</td><td>11.5.0</td></tr>
  </tbody>
</table>
 
 
 
### <a id='2.8.0-rc.1'></a> 2.8.0-rc.1

**Release Date:** 11/20/2019

* **[Security Fix]** Address [CVE-2019-17596](https://nvd.nist.gov/vuln/detail/CVE-2019-17596)
* **[Security Fix]** Improve Gorouter resiliency to panics
* **[Feature Improvement]** Allow disabling the V2 firehose
* **[Feature Improvement]** The NFS Broker now only runs against credhub as its backing store and therefore we have removed the nfsbroker bbr jobs
* Bump ubuntu-xenial stemcell to version `621.12`
* Bump cflinuxfs3 to version `0.143.0`
* Bump mapfs to version `1.2.1`
* Bump nfs-volume to version `5.0.2`
* Bump routing to version `0.193.0`
* Bump smb-volume to version `2.0.4`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>ubuntu-xenial stemcell</td><td>621.12</td></tr>
    <tr><td>bpm</td><td>1.1.5</td></tr>
    <tr><td>cf-networking</td><td>2.25.0</td></tr>
    <tr><td>cflinuxfs3</td><td>0.143.0</td></tr>
    <tr><td>diego</td><td>2.39.0</td></tr>
    <tr><td>garden-runc</td><td>1.19.8</td></tr>
    <tr><td>haproxy</td><td>9.8.0</td></tr>
    <tr><td>loggregator-agent</td><td>5.1.0</td></tr>
    <tr><td>mapfs</td><td>1.2.1</td></tr>
    <tr><td>nfs-volume</td><td>5.0.2</td></tr>
    <tr><td>routing</td><td>0.193.0</td></tr>
    <tr><td>silk</td><td>2.25.0</td></tr>
    <tr><td>smb-volume</td><td>2.0.4</td></tr>
    <tr><td>syslog</td><td>11.5.0</td></tr>
  </tbody>
</table>
 
 

### <a id='2.8.0-beta.1'></a> 2.8.0-beta.1

**Release Date:** 10/31/2019

* **[Security Fix]** Upgrade Go, runc and containerd to latest to include security fixes
* **[Security Fix]** CVE-2019-17596 bump Go
* Bump ubuntu-xenial stemcell to version `456.51`
* Bump bpm to version `1.1.5`
* Bump cflinuxfs3 to version `0.140.0`
* Bump loggregator-agent to version `5.1.0`
* Bump routing to version `0.192.0`
* Bump silk to version `2.25.0`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>ubuntu-xenial stemcell</td><td>456.51</td></tr>
    <tr><td>bpm</td><td>1.1.5</td></tr>
    <tr><td>cf-networking</td><td>2.25.0</td></tr>
    <tr><td>cflinuxfs3</td><td>0.140.0</td></tr>
    <tr><td>diego</td><td>2.39.0</td></tr>
    <tr><td>garden-runc</td><td>1.19.8</td></tr>
    <tr><td>haproxy</td><td>9.8.0</td></tr>
    <tr><td>loggregator-agent</td><td>5.1.0</td></tr>
    <tr><td>mapfs</td><td>1.2.0</td></tr>
    <tr><td>nfs-volume</td><td>2.3.1</td></tr>
    <tr><td>routing</td><td>0.192.0</td></tr>
    <tr><td>silk</td><td>2.25.0</td></tr>
    <tr><td>smb-volume</td><td>2.0.3</td></tr>
    <tr><td>syslog</td><td>11.5.0</td></tr>
  </tbody>
</table>

### <a id='2.8.0-alpha.5'></a> 2.8.0-alpha.5

**Release Date:** 10/16/2019

* **[Breaking Change]** Optional compute segment isolation
* **[Security Fix]** Secure Loggregator, LogCache, and Leadership Election with mTLS
* **[Feature Improvement]** Remove System Metrics Agents in favor of a Runtime Config in OpsMan 2.8+
* Bump ubuntu-xenial stemcell to version `456.30`
* Bump bpm to version `1.1.4`
* Bump cflinuxfs3 to version `0.135.0`
* Bump diego to version `2.39.0`
* Bump garden-runc to version `1.19.8`
* Bump loggregator-agent to version `5.0.0`
* Bump smb-volume to version `2.0.3`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>ubuntu-xenial stemcell</td><td>456.30</td></tr>
    <tr><td>bpm</td><td>1.1.4</td></tr>
    <tr><td>cf-networking</td><td>2.25.0</td></tr>
    <tr><td>cflinuxfs3</td><td>0.135.0</td></tr>
    <tr><td>diego</td><td>2.39.0</td></tr>
    <tr><td>garden-runc</td><td>1.19.8</td></tr>
    <tr><td>haproxy</td><td>9.8.0</td></tr>
    <tr><td>loggregator-agent</td><td>5.0.0</td></tr>
    <tr><td>mapfs</td><td>1.2.0</td></tr>
    <tr><td>nfs-volume</td><td>2.3.1</td></tr>
    <tr><td>routing</td><td>0.191.0</td></tr>
    <tr><td>silk</td><td>2.22.0</td></tr>
    <tr><td>smb-volume</td><td>2.0.3</td></tr>
    <tr><td>syslog</td><td>11.5.0</td></tr>
  </tbody>
</table>

### <a id='2.8.0-alpha.4'></a> 2.8.0-alpha.4

**Release Date:** 10/08/2019

* **[Feature Improvement]** Enable SMB volume service by default
* Bump ubuntu-xenial stemcell to version `456.27`
* Bump cf-networking to version `2.25.0`
* Bump cflinuxfs3 to version `0.131.0`
* Bump diego to version `2.38.0`
* Bump haproxy to version `9.8.0`
* Bump nfs-volume to version `2.3.1`
* Bump smb-volume to version `2.0.2`
* Bump syslog to version `11.5.0`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>ubuntu-xenial stemcell</td><td>456.27</td></tr>
    <tr><td>bpm</td><td>1.1.3</td></tr>
    <tr><td>cf-networking</td><td>2.25.0</td></tr>
    <tr><td>cflinuxfs3</td><td>0.131.0</td></tr>
    <tr><td>diego</td><td>2.38.0</td></tr>
    <tr><td>garden-runc</td><td>1.19.7</td></tr>
    <tr><td>haproxy</td><td>9.8.0</td></tr>
    <tr><td>loggregator-agent</td><td>3.21</td></tr>
    <tr><td>mapfs</td><td>1.2.0</td></tr>
    <tr><td>nfs-volume</td><td>2.3.1</td></tr>
    <tr><td>routing</td><td>0.191.0</td></tr>
    <tr><td>silk</td><td>2.22.0</td></tr>
    <tr><td>smb-volume</td><td>2.0.2</td></tr>
    <tr><td>syslog</td><td>11.5.0</td></tr>
  </tbody>
</table>

### <a id='2.8.0-alpha.3'></a> 2.8.0-alpha.3

**Release Date:** 09/24/2019

* Bump ubuntu-xenial stemcell to version `456.25`
* Bump cflinuxfs3 to version `0.128.0`
* Bump garden-runc to version `1.19.7`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>ubuntu-xenial stemcell</td><td>456.25</td></tr>
    <tr><td>bpm</td><td>1.1.3</td></tr>
    <tr><td>cf-networking</td><td>2.24.0</td></tr>
    <tr><td>cflinuxfs3</td><td>0.128.0</td></tr>
    <tr><td>diego</td><td>2.37.0</td></tr>
    <tr><td>garden-runc</td><td>1.19.7</td></tr>
    <tr><td>haproxy</td><td>9.7.1</td></tr>
    <tr><td>loggregator-agent</td><td>3.21</td></tr>
    <tr><td>mapfs</td><td>1.2.0</td></tr>
    <tr><td>nfs-volume</td><td>2.3.0</td></tr>
    <tr><td>routing</td><td>0.191.0</td></tr>
    <tr><td>silk</td><td>2.22.0</td></tr>
    <tr><td>smb-volume</td><td>2.0.1</td></tr>
    <tr><td>syslog</td><td>11.4.0</td></tr>
  </tbody>
</table>

### <a id='2.8.0-alpha.2'></a> 2.8.0-alpha.2

**Release Date:** 09/17/2019

* **[Security Fix]** Improve LDAP username validation for NFS LDAP integration
* **[Feature Improvement]** Add configuration for router balancing algorithm
* **[Bug Fix]** Fix various syslog drain bugs in the Syslog Agent
* Bump ubuntu-xenial stemcell to version `456.22`
* Bump bpm to version `1.1.3`
* Bump cflinuxfs3 to version `0.126.0`
* Bump diego to version `2.37.0`
* Bump garden-runc to version `1.19.6`
* Bump haproxy to version `9.7.1`
* Bump nfs-volume to version `2.3.0`
* Bump routing to version `0.191.0`
* Bump smb-volume to version `2.0.1`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>ubuntu-xenial stemcell</td><td>456.22</td></tr>
    <tr><td>bpm</td><td>1.1.3</td></tr>
    <tr><td>cf-networking</td><td>2.24.0</td></tr>
    <tr><td>cflinuxfs3</td><td>0.126.0</td></tr>
    <tr><td>diego</td><td>2.37.0</td></tr>
    <tr><td>garden-runc</td><td>1.19.6</td></tr>
    <tr><td>haproxy</td><td>9.7.1</td></tr>
    <tr><td>loggregator-agent</td><td>3.21</td></tr>
    <tr><td>mapfs</td><td>1.2.0</td></tr>
    <tr><td>nfs-volume</td><td>2.3.0</td></tr>
    <tr><td>routing</td><td>0.191.0</td></tr>
    <tr><td>silk</td><td>2.22.0</td></tr>
    <tr><td>smb-volume</td><td>2.0.1</td></tr>
    <tr><td>syslog</td><td>11.4.0</td></tr>
  </tbody>
</table>


## <a id='intro'></a> About Pivotal Isolation Segment

The Pivotal Isolation Segment v2.8 tile is available for installation with <%= vars.platform_name %> v2.8.

Isolation segments provide dedicated pools of resources where you can deploy apps and isolate workloads. Using isolation segments separates app resources as completely as if they were in different <%= vars.platform_name %> deployments but avoids redundant management and network complexity. For more information about isolation segments, see the [Isolation Segments](https://docs.pivotal.io/platform/application-service/2-8/concepts/security.html#isolation-segments) section of the _Pivotal Application Service Security_ topic.

For more information about using isolation segments in your deployment, see [Managing Isolation Segments](https://docs.pivotal.io/platform/application-service/2-8/operating/installing-pcf-is.html).


## <a id='install'></a> How to Install

The procedure for installing Pivotal Isolation Segment v2.8 is documented in [Installing Pivotal Platform Isolation Segment](https://docs.pivotal.io/pivotalcf/2-8/customizing/installing-pcf-is.html).

To install a Pivotal Isolation Segment, you must first install <%= vars.platform_name %> v2.8.


## <a id='2.8.0'></a> New Features in Pivotal Isolation Segment v2.8

### <a id='cpu-entitlement'></a> Diego Sets Container CPU Weight Property Equal to Container Memory Limit

Diego sets the CPU weight property on the containers it creates to a number equivalent to the container memory limit. This in turn allows Garden to calculate `AbsoluteCPUEntitlement`, the CPU entitlement for the container, and produce accurate CPU usage metrics that are relative to `AbsoluteCPUEntitlement`.

For more information about the `AbsoluteCPUEntitlement` and `AbsoluteCPUUsage` metrics, see the [Diego Container Metrics](http://docs.pivotal.io/platform/application-service/2-8/loggregator/container-metrics.html#container-metrics) section of the _Container Metrics_ topic.

### <a id='smb-default'></a> SMB Volume Services Enabled by Default

In the Isolation Segment v2.8 tile, SMB volume services are enabled by default. When SMB volume services are enabled, app developers can bind existing SMB shares to apps for shared file access.

To disable SMB volume services in the Isolation Segment tile, select **Advanced Features** and clear the **Enable SMB volume services** checkbox.

For more information, see the [Advanced Features](https://docs.pivotal.io/platform/application-service/2-8/operating/installing-pcf-is.html#advanced_features) section in _Installing Pivotal Platform Isolation Segment_.

For general information about volume services, see [Using an External File System (Volume Services)](http://docs.pivotal.io/platform/application-service/2-8/devguide/services/using-vol-services.html).

### <a id='nfs-broker-credhub'></a> NFS Broker Uses CredHub as Backing Store

In the Isolation Segment v2.8 tile, NFS Broker uses CredHub as its backing store, rather than an internal PAS database. Because BOSH Backup and Restore (BBR) no longer backs up NFS Broker, the `nfsbroker-bbr` job is removed.

For more information about CredHub, see [CredHub](https://docs.pivotal.io/platform/2-8/credhub/index.html).

### <a id='compute-networking-isolation'></a> Compute and Networking Isolation

In the Isolation Segment v2.8 tile, there is a new **Compute and Networking Isolation** pane. _Compute isolation_ is when an app runs on compute resources - such as clusters, resource pools, and servers - that are isolated from other resources by a network partition or firewall. _Networking isolation_, or router sharding, is when traffic to an app instance uses a dedicated route that is isolated from routes used by other app instances by a network partition or firewall rule.

In the Isolation Segment tile, compute isolation and networking isolation must be configured or disabled simultaneously. This is because networking isolation configures the route by which traffic goes to the Isolation Segment tile. Both are enabled by default. However, isolation segments do not require compute isolation in the Isolation Segment v2.8 tile.

For more information, see the [Compute and Networking Isolation](https://docs.pivotal.io/pivotalcf/2-8/customizing/installing-pcf-is.html#compute-networking-isolation) section in the _Installing <%= vars.product_name %> Isolation Segment_ topic.

### <a id='mtls-loggregator'></a> Mutual TLS Added to Loggregator Endpoints and Components

Mutual TLS is added to the Loggregator, Loggregator Agent, and Log Cache endpoints. It is also added to the Leadership Election job. This provides additional security between these endpoints and metric scrapers.

For more information about Loggregator components, see [Loggregator Architecture](https://docs.pivotal.io/platform/application-service/2-8/loggregator/architecture.html). For more information about the Leadership Election job and metric scraping, see [System Metrics](https://github.com/cloudfoundry/system-metrics-release) on GitHub.

### <a id='disable-v2-firehose'></a> V2 Firehose Can Be Disabled

In Pivotal Isolation Segment v2.8, you can disable the V2 firehose by deselecting the **Enable V2 firehose** checkbox in the **System Logging** pane of the Pivotal Application Service (PAS) v2.8 tile. This allows you to save resources by shutting off related VMs, such as the Traffic Controller.

For more information, see the [Configure System Logging](https://docs.pivotal.io/platform/application-service/2-8/operating/configure-pas.html#sys-logging) section of the _Configuring PAS_ topic.

### <a id='prometheus'></a> All Platform Metrics Exposed on Prometheus Endpoints

All platform metrics are exposed on Prometheus endpoints. Instead of sending metrics through the Firehose, you can use the Metrics Discovery Release to register Prometheus-formatted metrics endpoints in your Pivotal Platform deployment. You can then use an external tool to scrape those metrics. This also adds two new jobs, `metrics-discovery-registrar` and `metrics-agent`.

For more information about Metrics Discovery Release, see the [Metrics Discovery Release](https://github.com/cloudfoundry/metrics-discovery-release) repository on GitHub. For more information about Metrics Agent, see [Using Metrics Agent](https://github.com/cloudfoundry/metrics-discovery-release/blob/develop/docs/metrics-agent.md) on GitHub.


## <a id='adv-features'></a> About Advanced Features

The Advanced Features section of the PCF Isolation Segment v2.8 tile includes new functionality that may have certain constraints.

Although these features are fully supported, Pivotal recommends caution when using them in production.


## <a id='known-issues'></a> Known Issues

There are currently no known issues.
