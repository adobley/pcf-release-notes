---
title: PAS for Windows v2.4 Release Notes
owner: Garden Windows
---

<%= partial '/shared/deprecation-notice' %>

This topic contains release notes for Pivotal Application Service (PAS) for Windows.

## <a id='upgrade'></a> How to Upgrade

The PAS for Windows v2.4 tile is available with the release of Pivotal Cloud Foundry (PCF) v2.4. To
use the PAS for Windows v2.4 tile, you must install Ops Manager v2.4 or later and PAS v2.4 or later.

## <a id='releases'></a> Releases
 
<%# DO NOT DELETE THIS LINE - robots use this to add new release notes %>

### <a id='2.4.13'></a> 2.4.13

**Release Date:** 09/17/2019

* **[Bug Fix]** Keep resending route unregistration message to prevent application misrouting in case of NATS routing tier instability
* Bump windows1803 stemcell to version `1803.14`
* Bump cf-windows-smoke-tests to version `40.0.118`
* Bump diego to version `2.22.11`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>windows1803 stemcell</td><td>1803.14</td></tr>
    <tr><td>cf-windows-smoke-tests</td><td>40.0.118</td></tr>
    <tr><td>diego</td><td>2.22.11</td></tr>
    <tr><td>event-log</td><td>0.7.0</td></tr>
    <tr><td>garden-runc</td><td>1.19.5</td></tr>
    <tr><td>hwc-offline-buildpack</td><td>3.1.10</td></tr>
    <tr><td>loggregator-agent</td><td>2.3</td></tr>
    <tr><td>loggregator</td><td>103.4</td></tr>
    <tr><td>winc</td><td>1.14.0</td></tr>
    <tr><td>windows-utilities</td><td>0.11.0</td></tr>
    <tr><td>windowsfs-release</td><td>2.10.0</td></tr>
  </tbody>
</table>

### <a id='2.4.12'></a> 2.4.12

**Release Date:** 08/15/2019

* Bump cf-windows-smoke-tests to version `40.0.116`
* Bump garden-runc to version `1.19.5`
* Bump windowsfs-release to version `2.10.0`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>windows1803 stemcell</td><td>1803.13</td></tr>
    <tr><td>cf-windows-smoke-tests</td><td>40.0.116</td></tr>
    <tr><td>diego</td><td>2.22.8</td></tr>
    <tr><td>event-log</td><td>0.7.0</td></tr>
    <tr><td>garden-runc</td><td>1.19.5</td></tr>
    <tr><td>hwc-offline-buildpack</td><td>3.1.10</td></tr>
    <tr><td>loggregator-agent</td><td>2.3</td></tr>
    <tr><td>loggregator</td><td>103.4</td></tr>
    <tr><td>winc</td><td>1.14.0</td></tr>
    <tr><td>windows-utilities</td><td>0.11.0</td></tr>
    <tr><td>windowsfs-release</td><td>2.10.0</td></tr>
  </tbody>
</table>

### <a id='2.4.11'></a> 2.4.11

**Release Date:** 07/30/2019

* **[Feature Improvement]** Additional logging is displayed in the pre-start script for groot-windows
* Bump windows1803 stemcell to version `1803.13`
* Bump cf-windows-smoke-tests to version `40.0.113`
* Bump hwc-offline-buildpack to version `3.1.10`
* Bump winc to version `1.14.0`
* Bump windowsfs-release to version `2.9.0`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>windows1803 stemcell</td><td>1803.13</td></tr>
    <tr><td>cf-windows-smoke-tests</td><td>40.0.113</td></tr>
    <tr><td>diego</td><td>2.22.8</td></tr>
    <tr><td>event-log</td><td>0.7.0</td></tr>
    <tr><td>garden-runc</td><td>1.19.0</td></tr>
    <tr><td>hwc-offline-buildpack</td><td>3.1.10</td></tr>
    <tr><td>loggregator-agent</td><td>2.3</td></tr>
    <tr><td>loggregator</td><td>103.4</td></tr>
    <tr><td>winc</td><td>1.14.0</td></tr>
    <tr><td>windows-utilities</td><td>0.11.0</td></tr>
    <tr><td>windowsfs-release</td><td>2.9.0</td></tr>
  </tbody>
</table>

### <a id='2.4.10'></a> 2.4.10

* Bump windows1803 stemcell to version `1803.12`
* Bump cf-windows-smoke-tests to version `40.0.109`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>windows1803 stemcell</td><td>1803.12</td></tr>
    <tr><td>cf-windows-smoke-tests</td><td>40.0.109</td></tr>
    <tr><td>diego</td><td>2.22.8</td></tr>
    <tr><td>event-log</td><td>0.7.0</td></tr>
    <tr><td>garden-runc</td><td>1.19.0</td></tr>
    <tr><td>hwc-offline-buildpack</td><td>3.1.9</td></tr>
    <tr><td>loggregator-agent</td><td>2.3</td></tr>
    <tr><td>loggregator</td><td>103.4</td></tr>
    <tr><td>winc</td><td>1.9.0</td></tr>
    <tr><td>windows-utilities</td><td>0.11.0</td></tr>
    <tr><td>windowsfs-release</td><td>2.7.0</td></tr>
  </tbody>
</table>


### <a id='2.4.9'></a> 2.4.9

* Bump windows1803 stemcell to version `1803.11`
* Bump hwc-offline-buildpack to version `3.1.9`
* Bump winc to version `1.9.0`
* Bump windowsfs-release to version `2.7.0`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>windows1803 stemcell</td><td>1803.11</td></tr>
    <tr><td>cf-windows-smoke-tests</td><td>40.0.40</td></tr>
    <tr><td>diego</td><td>2.22.8</td></tr>
    <tr><td>event-log</td><td>0.7.0</td></tr>
    <tr><td>garden-runc</td><td>1.19.0</td></tr>
    <tr><td>hwc-offline-buildpack</td><td>3.1.9</td></tr>
    <tr><td>loggregator-agent</td><td>2.3</td></tr>
    <tr><td>loggregator</td><td>103.4</td></tr>
    <tr><td>winc</td><td>1.9.0</td></tr>
    <tr><td>windows-utilities</td><td>0.11.0</td></tr>
    <tr><td>windowsfs-release</td><td>2.7.0</td></tr>
  </tbody>
</table>

### <a id='2.4.8'></a> 2.4.8

* No release bumps

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>windows1803 stemcell</td><td>1803.9</td></tr>
    <tr><td>cf-windows-smoke-tests</td><td>40.0.40</td></tr>
    <tr><td>diego</td><td>2.22.8</td></tr>
    <tr><td>event-log</td><td>0.7.0</td></tr>
    <tr><td>garden-runc</td><td>1.19.0</td></tr>
    <tr><td>hwc-offline-buildpack</td><td>3.1.8</td></tr>
    <tr><td>loggregator-agent</td><td>2.3</td></tr>
    <tr><td>loggregator</td><td>103.4</td></tr>
    <tr><td>winc</td><td>1.8.0</td></tr>
    <tr><td>windows-utilities</td><td>0.11.0</td></tr>
    <tr><td>windowsfs-release</td><td>2.5.0</td></tr>
  </tbody>
</table>

### <a id='2.4.7'></a> 2.4.7

* **[Feature Improvement]** Allow vcap WriteKey access to ODBC registry entry.
* Bump windows1803 stemcell to version `1803.9`
* Bump hwc-offline-buildpack to version `3.1.8`
* Bump windowsfs-release to version `2.5.0`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>windows1803 stemcell</td><td>1803.9</td></tr>
    <tr><td>cf-windows-smoke-tests</td><td>40.0.40</td></tr>
    <tr><td>diego</td><td>2.22.8</td></tr>
    <tr><td>event-log</td><td>0.7.0</td></tr>
    <tr><td>garden-runc</td><td>1.19.0</td></tr>
    <tr><td>hwc-offline-buildpack</td><td>3.1.8</td></tr>
    <tr><td>loggregator-agent</td><td>2.3</td></tr>
    <tr><td>loggregator</td><td>103.4</td></tr>
    <tr><td>winc</td><td>1.8.0</td></tr>
    <tr><td>windows-utilities</td><td>0.11.0</td></tr>
    <tr><td>windowsfs-release</td><td>2.5.0</td></tr>
  </tbody>
</table>

### <a id='2.4.6'></a> 2.4.6

* Bump diego to version `2.22.8`
* Bump windowsfs-release to version `2.3.0`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>windows1803 stemcell</td><td>1803.8</td></tr>
    <tr><td>cf-windows-smoke-tests</td><td>40.0.40</td></tr>
    <tr><td>diego</td><td>2.22.8</td></tr>
    <tr><td>event-log</td><td>0.7.0</td></tr>
    <tr><td>garden-runc</td><td>1.19.0</td></tr>
    <tr><td>hwc-offline-buildpack</td><td>3.1.6</td></tr>
    <tr><td>loggregator-agent</td><td>2.3</td></tr>
    <tr><td>loggregator</td><td>103.4</td></tr>
    <tr><td>winc</td><td>1.8.0</td></tr>
    <tr><td>windows-utilities</td><td>0.11.0</td></tr>
    <tr><td>windowsfs-release</td><td>2.3.0</td></tr>
  </tbody>
</table>

### <a id='2.4.5'></a> 2.4.5

* **[Bug Fix]** Fix diego rep to always clean up temporary download cache directory
* Bump windows1803 stemcell to version `1803.8`
* Bump diego to version `2.22.7`
* Bump garden-runc to version `1.19.0`
* Bump windowsfs-release to version `2.2.0`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>windows1803 stemcell</td><td>1803.8</td></tr>
    <tr><td>cf-windows-smoke-tests</td><td>40.0.40</td></tr>
    <tr><td>diego</td><td>2.22.7</td></tr>
    <tr><td>event-log</td><td>0.7.0</td></tr>
    <tr><td>garden-runc</td><td>1.19.0</td></tr>
    <tr><td>hwc-offline-buildpack</td><td>3.1.6</td></tr>
    <tr><td>loggregator-agent</td><td>2.3</td></tr>
    <tr><td>loggregator</td><td>103.4</td></tr>
    <tr><td>winc</td><td>1.8.0</td></tr>
    <tr><td>windows-utilities</td><td>0.11.0</td></tr>
    <tr><td>windowsfs-release</td><td>2.2.0</td></tr>
  </tbody>
</table>

### <a id='2.4.4'></a> 2.4.4

* **[Feature Improvement]** PASW and PASW 2012 2.4 can be deployed with PAS 2.5
* Bump windows1803 stemcell to version `1803.7`
* Bump hwc-offline-buildpack to version `3.1.6`
* Bump windowsfs-release to version `2.1.0`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>windows1803 stemcell</td><td>1803.7</td></tr>
    <tr><td>cf-windows-smoke-tests</td><td>40.0.40</td></tr>
    <tr><td>diego</td><td>2.22.1</td></tr>
    <tr><td>event-log</td><td>0.7.0</td></tr>
    <tr><td>garden-runc</td><td>1.18.0</td></tr>
    <tr><td>hwc-offline-buildpack</td><td>3.1.6</td></tr>
    <tr><td>loggregator-agent</td><td>2.3</td></tr>
    <tr><td>loggregator</td><td>103.4</td></tr>
    <tr><td>winc</td><td>1.8.0</td></tr>
    <tr><td>windows-utilities</td><td>0.11.0</td></tr>
    <tr><td>windowsfs-release</td><td>2.1.0</td></tr>
  </tbody>
</table>

### <a id='2.4.3'></a> 2.4.3

* **[Feature]** Operators can provide trusted certs in OpsMgr for .NET apps to use automatically
* Bump garden-runc to version `1.18.0`
* Bump hwc-offline-buildpack to version `3.1.5`
* Bump loggregator-agent to version `2.3`
* Bump loggregator to version `103.4`
* Bump winc to version `1.8.0`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>windows1803 stemcell</td><td>1803.6</td></tr>
    <tr><td>cf-windows-smoke-tests</td><td>40.0.40</td></tr>
    <tr><td>diego</td><td>2.22.1</td></tr>
    <tr><td>event-log</td><td>0.7.0</td></tr>
    <tr><td>garden-runc</td><td>1.18.0</td></tr>
    <tr><td>hwc-offline-buildpack</td><td>3.1.5</td></tr>
    <tr><td>loggregator-agent</td><td>2.3</td></tr>
    <tr><td>loggregator</td><td>103.4</td></tr>
    <tr><td>winc</td><td>1.8.0</td></tr>
    <tr><td>windows-utilities</td><td>0.11.0</td></tr>
    <tr><td>windowsfs-release</td><td>2.0.0</td></tr>
  </tbody>
</table>

### <a id='2.4.2'></a> 2.4.2

* **[Feature Improvement]** Add support for "windows" stack
* Bump windows1803 stemcell to version `1803.6`
* Bump diego to version `2.22.1`
* Bump hwc-offline-buildpack to version `3.1.4`
* Bump windowsfs-release to version `2.0.0`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>windows1803 stemcell</td><td>1803.6</td></tr>
    <tr><td>cf-windows-smoke-tests</td><td>40.0.40</td></tr>
    <tr><td>diego</td><td>2.22.1</td></tr>
    <tr><td>event-log</td><td>0.7.0</td></tr>
    <tr><td>garden-runc</td><td>1.16.7</td></tr>
    <tr><td>hwc-offline-buildpack</td><td>3.1.4</td></tr>
    <tr><td>loggregator-agent</td><td>2.2</td></tr>
    <tr><td>loggregator</td><td>103.3</td></tr>
    <tr><td>winc</td><td>1.7.0</td></tr>
    <tr><td>windows-utilities</td><td>0.11.0</td></tr>
    <tr><td>windowsfs-release</td><td>2.0.0</td></tr>
  </tbody>
</table>

### <a id='2.4.1'></a> 2.4.1

* **[Feature Improvement]** Enable SMB `net use`-style mounting for IP-address based UNC paths on Windows 2016 cells
* Bump hwc-offline-buildpack to version `3.1.2`
* Bump windowsfs-release to version `1.8.0`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>windows1803 stemcell</td><td>1803.4</td></tr>
    <tr><td>cf-windows-smoke-tests</td><td>40.0.40</td></tr>
    <tr><td>diego</td><td>2.22.0</td></tr>
    <tr><td>event-log</td><td>0.7.0</td></tr>
    <tr><td>garden-runc</td><td>1.16.7</td></tr>
    <tr><td>hwc-offline-buildpack</td><td>3.1.2</td></tr>
    <tr><td>loggregator-agent</td><td>2.2</td></tr>
    <tr><td>loggregator</td><td>103.3</td></tr>
    <tr><td>winc</td><td>1.7.0</td></tr>
    <tr><td>windows-utilities</td><td>0.11.0</td></tr>
    <tr><td>windowsfs-release</td><td>1.8.0</td></tr>
  </tbody>
</table>

### <a id='2.4.0'></a> 2.4.0

* **[Feature]** Enable fetching logs and metrics via gRPC

* Add new release loggregator-agent at version `2.2`
* Removed consul release
* Bump cf-windows-smoke-tests to version `40.0.40`
* Bump hwc-offline-buildpack to version `3.1.1`
* Bump windowsfs-release to version `1.7.0`
* Bump windows1803 stemcell to version `1803.4`
* HWC buildpack supports http compression for arbitrary MIME types

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>windows1803 stemcell</td><td>1803.4</td></tr>
    <tr><td>cf-windows-smoke-tests</td><td>40.0.40</td></tr>
    <tr><td>diego</td><td>2.22.0</td></tr>
    <tr><td>event-log</td><td>0.7.0</td></tr>
    <tr><td>garden-runc</td><td>1.16.7</td></tr>
    <tr><td>hwc-offline-buildpack</td><td>3.1.1</td></tr>
    <tr><td>loggregator-agent</td><td>2.2</td></tr>
    <tr><td>loggregator</td><td>103.3</td></tr>
    <tr><td>winc</td><td>1.7.0</td></tr>
    <tr><td>windows-utilities</td><td>0.11.0</td></tr>
    <tr><td>windowsfs-release</td><td>1.7.0</td></tr>
  </tbody>
</table>

## <a id='new-features'></a> New Features in PAS for Windows v2.4

PAS for Windows v2.4 includes the following major features:

### <a id='smoke-tests'></a> Smoke Tests are Available

Smoke Tests are available in PAS for Windows v2.4 to verify `cf push` and app routability at deploy time. 
The **Smoke Test Errand**, disabled by default, can be enabled and configured within the PAS for Windows Tile. 
You have the option of choosing a temporary or specified organization and space for smoke tests.

<p class='note'><strong>Note:</strong> Before enabling Smoke Tests in an environment lacking internet access, please review <a href="#known-issues">Known Issues</a>.</p>

For more information on Smoke Tests, see [Step 3: Configure the Tile](https://docs.pivotal.io/pivotalcf/2-4/windows/installing.html#config) in _Installing and Configuring PAS for Windows_.

### <a id='stack'></a> Developers Can Push with Default Windows Stack

Developers can push apps using `cf push -s windows`. Pushing apps with this command ensures that you are pushing with the Windows stack with the latest `rootfs`.

For more information, see [Step 2: Push App to PAS for Windows Cells](https://docs.pivotal.io/pivotalcf/2-4/windows/migrating.html) in _Migrating Apps to PAS for Windows_.

### <a id='smb'></a> SMB Support for Windows Containers

SMB mounting allows developers to bind existing SMB shares to their containerized apps. 
Previously, SMB shares were only accessible by using the SharpCIFS library. PASW v2.4.0 natively supports SMB mounting.

SMB Mounting is enabled by default when you upgrade to PASW v2.4.0.

SMB Mounting can be utilized with or without Steeltoe. Enabling SMB mounting without Steeltoe requires running the `net use` command.

For more information, see [Using SMB Volumes in .NET Apps](https://docs.pivotal.io/pivotalcf/2-4/windows/smb-volumes-apps.html).

## <a id='advanced-features'></a> New Advanced Features in PAS for Windows v2.4

The **Advanced Features** pane of the PAS for Windows tile includes new functionality that may have
certain constraints.

Although these features are fully supported, Pivotal recommends caution when using them in production.

### <a id="overcommit"></a> Memory and Disk Overcommit for Diego Cells

You can now enable memory and disk overcommit for Diego cells.
If you want to configure this feature, use the **Cell Memory Capacity (MB)** and **Cell Disk Capacity (MB)** fields
on the **Advanced Features** pane of the PAS for Windows tile.

<p class='note'><strong>Note:</strong> Due to the risk of app failure and the deployment-specific nature of disk and memory use,
Pivotal has no recommendation about how much, if any, memory or disk space to overcommit.</p>

For more information, see the
[Configure the Tile](https://docs.pivotal.io/pivotalcf/2-4/windows/installing.html#config) section of _Installing and Configuring PAS for Windows_.

### <a id="metrics-prefix"></a> Uniquely Identify Metrics from PAS for Windows

Metrics emitted from PAS for Windows are now tagged with the BOSH deployment name of your PAS for Windows tile.
For example, `pas-windows-GUID`.
With a GUID, you can uniquely identify your metrics by tile.
In PAS for Windows v2.3 and earlier, metrics use the `cf` tag as the deployment name.

This feature is enabled by default in new deployments of PAS for Windows v2.4.
For upgrades to PAS for Windows v2.4, the feature is disabled by default.
You can configure this setting in the **Advanced Features** pane of the PAS for Windows tile:

* If the **Use “cf” as deployment name in emitted metrics instead of unique name** checkbox is disabled,
PAS for Windows metrics are tagged with the BOSH deployment name of your PAS for Windows tile.
* If the **Use “cf” as deployment name in emitted metrics instead of unique name** checkbox is enabled,
PAS for Windows metrics are tagged with `cf` as the deployment name.

<p class='note'><strong>Note:</strong> Enable the <code>cf</code> value
only if it is required for backward compatibility with previous versions of PCF
or if you have scripts that rely on metrics with <code>cf</code> as the value for <code>deployment</code>.
Pivotal does not recommend enabling the <code>cf</code> value as a permanent solution.</p>

### <a id='vcr'></a> Pre-Installed Visual C++ Redistributables

PAS for Windows v2.4.11 and later includes Microsoft Visual C++ Redistributables for Visual Studio 2010, 2015, 2017 and 2019.
This change is backported to PAS for Windows v2.2 and later.

This update improves the developer experience by making Visual C++ Redistributables readily available for .NET apps. 
Developers no longer have to manually bin deploy to reference C++ or C++ based libraries.

## <a id='known-issues'></a> Known Issues
### <a id="internetless-ocsp"></a> PASW Smoke Test Errand timeout in environments lacking internet access

The PASW Smoke Test Errand may fail when running `cf login` due to certificate validation timeout. 
Certificate validation timeout is known to occur if an environment lacks internet access and its load balancer certificates are configured to validate over the internet. 
For more information, see 
[PASW Smoke Test Errand will timeout and fail when attempting to run 'cf login'](https://community.pivotal.io/s/article/pasw-smoke-test-errand-will-timeout-and-fail-when-attempting-to-run-cf-login) 
in the Pivotal Support knowledge base.

### <a id='no-mutual-verification'></a> No Mutual TLS App Identity Verification

PAS for Windows v2.4 does not support mutual TLS app identity verification. Mutual TLS app identity verification does not work for Windows containers.
